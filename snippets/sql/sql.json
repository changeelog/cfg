{
  "Alter Table": {
    "prefix": "sqlat",
    "description": "Alter an existing table",
    "body": [
      "ALTER TABLE ${1:table_name}",
      "ADD ${2:column_name} ${3:datatype};"
    ]
  },
  "Case Statement": {
    "prefix": "sqlcs",
    "description": "Use a CASE statement",
    "body": [
      "SELECT",
      "    CASE",
      "        WHEN ${1:condition1} THEN ${2:result1}",
      "        WHEN ${3:condition2} THEN ${4:result2}",
      "        ELSE ${5:else_result}",
      "    END AS ${6:column_alias}",
      "FROM ${7:table_name};"
    ]
  },
  "Common Table Expression (CTE)": {
    "prefix": "sqlcte",
    "description": "Create a Common Table Expression",
    "body": [
      "WITH ${1:cte_name} AS (",
      "    SELECT ${2:columns}",
      "    FROM ${3:table_name}",
      "    WHERE ${4:condition}",
      ")",
      "SELECT *",
      "FROM ${1:cte_name};"
    ]
  },
  "Create Function": {
    "prefix": "sqlcf",
    "description": "Create a user-defined function",
    "body": [
      "CREATE FUNCTION ${1:function_name} (@${2:param1} ${3:datatype})",
      "RETURNS ${4:return_type}",
      "AS",
      "BEGIN",
      "    RETURN ${5:-- Function body}",
      "END;"
    ]
  },
  "Create Index": {
    "prefix": "sqlci",
    "description": "Create an index on a table",
    "body": [
      "CREATE INDEX ${1:index_name}",
      "ON ${2:table_name} (${3:column_name});"
    ]
  },
  "Create Procedure": {
    "prefix": "sqlcp",
    "description": "Create a stored procedure",
    "body": [
      "CREATE PROCEDURE ${1:procedure_name}",
      "    @${2:param1} ${3:datatype},",
      "    @${4:param2} ${5:datatype}",
      "AS",
      "BEGIN",
      "    ${6:-- Procedure body}",
      "END;"
    ]
  },
  "Create Table": {
    "prefix": "sqlct",
    "description": "Create a new table",
    "body": [
      "CREATE TABLE ${1:table_name} (",
      "    ${2:column1} ${3:datatype},",
      "    ${4:column2} ${5:datatype},",
      "    PRIMARY KEY (${6:primary_key_column})",
      ");"
    ]
  },
  "Create Trigger": {
    "prefix": "sqlctr",
    "description": "Create a trigger",
    "body": [
      "CREATE TRIGGER ${1:trigger_name}",
      "ON ${2:table_name}",
      "AFTER ${3|INSERT,UPDATE,DELETE|}",
      "AS",
      "BEGIN",
      "    ${4:-- Trigger logic}",
      "END;"
    ]
  },
  "Create View": {
    "prefix": "sqlcv",
    "description": "Create a view",
    "body": [
      "CREATE VIEW ${1:view_name} AS",
      "SELECT ${2:column1}, ${3:column2}",
      "FROM ${4:table_name}",
      "WHERE ${5:condition};"
    ]
  },
  "Declare Variable": {
    "prefix": "sqldv",
    "description": "Declare a variable",
    "body": [
      "DECLARE @${1:variable_name} ${2:datatype};"
    ]
  },
  "Delete": {
    "prefix": "sqldel",
    "description": "Delete rows from a table",
    "body": [
      "DELETE FROM ${1:table_name}",
      "WHERE ${2:condition};"
    ]
  },
  "Drop Table": {
    "prefix": "sqldt",
    "description": "Drop a table if it exists",
    "body": [
      "DROP TABLE IF EXISTS ${1:table_name};"
    ]
  },
  "Group By": {
    "prefix": "sqlgb",
    "description": "Group results by a column",
    "body": [
      "SELECT ${1:column}, COUNT(*) as count",
      "FROM ${2:table_name}",
      "GROUP BY ${1:column};"
    ]
  },
  "Having Clause": {
    "prefix": "sqlhc",
    "description": "Use HAVING clause with GROUP BY",
    "body": [
      "SELECT ${1:column}, COUNT(*) as count",
      "FROM ${2:table_name}",
      "GROUP BY ${1:column}",
      "HAVING COUNT(*) > ${3:value};"
    ]
  },
  "Inner Join": {
    "prefix": "sqlij",
    "description": "Perform an inner join between two tables",
    "body": [
      "SELECT *",
      "FROM ${1:table1} t1",
      "INNER JOIN ${2:table2} t2 ON t1.${3:column} = t2.${4:column};"
    ]
  },
  "Insert Into": {
    "prefix": "sqlii",
    "description": "Insert a new row into a table",
    "body": [
      "INSERT INTO ${1:table_name} (${2:column1}, ${3:column2})",
      "VALUES (${4:value1}, ${5:value2});"
    ]
  },
  "Left Join": {
    "prefix": "sqllj",
    "description": "Perform a left join between two tables",
    "body": [
      "SELECT *",
      "FROM ${1:table1} t1",
      "LEFT JOIN ${2:table2} t2 ON t1.${3:column} = t2.${4:column};"
    ]
  },
  "Limit Results": {
    "prefix": "sqllr",
    "description": "Limit the number of results returned",
    "body": [
      "SELECT ${1:column1}, ${2:column2}",
      "FROM ${3:table_name}",
      "LIMIT ${4:number};"
    ]
  },
  "Merge Statement": {
    "prefix": "sqlms",
    "description": "Perform MERGE operation (SQL Server)",
    "body": [
      "MERGE INTO ${1:target_table} AS target",
      "USING ${2:source_table} AS source",
      "ON ${3:merge_condition}",
      "WHEN MATCHED THEN",
      "    UPDATE SET ${4:update_statement}",
      "WHEN NOT MATCHED THEN",
      "    INSERT (${5:columns}) VALUES (${6:values});"
    ]
  },
  "Order By": {
    "prefix": "sqlob",
    "description": "Order results by a column",
    "body": [
      "SELECT ${1:column1}, ${2:column2}",
      "FROM ${3:table_name}",
      "ORDER BY ${4:column} ${5|ASC,DESC|};"
    ]
  },
  "Pivot": {
    "prefix": "sqlpvt",
    "description": "Create a PIVOT query",
    "body": [
      "SELECT *",
      "FROM (",
      "    SELECT ${1:columns}",
      "    FROM ${2:table_name}",
      ") AS SourceTable",
      "PIVOT (",
      "    ${3:aggregate_function}(${4:value_column})",
      "    FOR ${5:pivot_column} IN (${6:pivot_values})",
      ") AS PivotTable;"
    ]
  },
  "Select All": {
    "prefix": "sqlsa",
    "description": "Select all columns from a table",
    "body": [
      "SELECT * FROM ${1:table_name};"
    ]
  },
  "Select Specific Columns": {
    "prefix": "sqlssc",
    "description": "Select specific columns from a table",
    "body": [
      "SELECT ${1:column1}, ${2:column2} FROM ${3:table_name};"
    ]
  },
  "Subquery": {
    "prefix": "sqlsq",
    "description": "Use a subquery",
    "body": [
      "SELECT *",
      "FROM ${1:table_name}",
      "WHERE ${2:column} IN (",
      "    SELECT ${3:column}",
      "    FROM ${4:another_table}",
      "    WHERE ${5:condition}",
      ");"
    ]
  },
  "Transaction": {
    "prefix": "sqltx",
    "description": "Create a transaction",
    "body": [
      "BEGIN TRANSACTION;",
      "",
      "    ${1:-- Transaction statements}",
      "",
      "COMMIT;"
    ]
  },
  "Try-Catch": {
    "prefix": "sqltc",
    "description": "Use a try-catch block (SQL Server)",
    "body": [
      "BEGIN TRY",
      "    ${1:-- Code to try}",
      "END TRY",
      "BEGIN CATCH",
      "    ${2:-- Error handling}",
      "END CATCH;"
    ]
  },
  "Union": {
    "prefix": "sqlun",
    "description": "Combine result sets with UNION",
    "body": [
      "SELECT ${1:columns} FROM ${2:table1}",
      "UNION",
      "SELECT ${1:columns} FROM ${3:table2};"
    ]
  },
  "Update": {
    "prefix": "sqlup",
    "description": "Update existing rows in a table",
    "body": [
      "UPDATE ${1:table_name}",
      "SET ${2:column1} = ${3:value1}, ${4:column2} = ${5:value2}",
      "WHERE ${6:condition};"
    ]
  },
  "Window Function": {
    "prefix": "sqlwf",
    "description": "Use a window function",
    "body": [
      "SELECT",
      "    ${1:column},",
      "    ${2:window_function} OVER (",
      "        PARTITION BY ${3:partition_column}",
      "        ORDER BY ${4:order_column}",
      "    ) AS ${5:result_column}",
      "FROM ${6:table_name};"
    ]
  }
}